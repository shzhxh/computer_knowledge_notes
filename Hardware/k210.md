#### 名词解释

##### PLL

锁相环(Phase Locked Loop)，使电路上的时钟和某一外部时钟的相位同步。使内存能正确地存取资料。

##### APB

一个总线协议，几乎成为一种标准的片上总线结构。主要用于低带宽的外设连接。

#### 系统控制器

系统控制器是个外设，它负责所有与系统相关的外设的设置。它的32个32位寄存器都映射在内存里。

| 编号  | 名称          | 描述                                                         |
| ----- | ------------- | ------------------------------------------------------------ |
| 0     | git_id        | Git短提交id。只读寄存器，git的commit id共160位，而它只能提供前32位，所以叫"short commit id"。 |
| 1     | clk_freq      | 系统时钟频率。只读寄存器。                                   |
| 2     | pll0          | PLL0控制器。可写，其中clkr0,clkf0,clkod0用于计算输出频率，其中clkr0,clkf0,clkod0,bwadj0用于控制输入频率，其中pll_bypass0设置是否bypass pll0(1:bypass, 0:do not bypass)，pll_out_en0位控制pll0的时钟使能，pll_pwrd0控制pll0的启动(0:power off, 1:power on)，pll_reset0用于重置pll0(0:不重置，1:重置) |
| 3     | pll1          | PLL1控制器。可写，其中clkr1,clkf1,clkod1用于计算输出频率，其中clkr1,clkf1,clkod1,bwadj1用于控制输入频率，其中其中pll_bypass1设置是否bypass pll1(1:bypass, 0:do not bypass)，pll_out_en1位控制pll1的时钟使能，pll_pwrd1控制pll1的启动(0:power off, 1:power on)，pll_reset1用于重置pll1(0:不重置，1:重置) |
| 4     | pll2          | PLL2控制器。可写，其中clkr2,clkf2,clkod2用于计算输出频率，其中clkr2,clkf2,clkod2,bwadj2用于控制输入频率，其中其中pll_bypass2设置是否bypass pll2(1:bypass, 0:do not bypass)，pll_out_en2位控制pll2的时钟使能，其中pll_ckin_sel2将pll2设为时钟源，pll_pwrd2控制pll2的启动(0:power off, 1:power on)，pll_reset2用于重置pll2(0:不重置，1:重置) |
| 5     | resv5         | 保留                                                         |
| 6     | pll_lock      | PLL锁测试器。其中pll_lock0~2均只读，pll_lock0=3则pll0已锁，pll_lock1=1则pll1已锁，pll_lock2=1则pll2已锁。其中pll_lip_clear0~2用于清空对应pll的slip，置1则清空对应pll的slip。 |
| 7     | rom_error     | AXI ROM测试器                                                |
| 8     | clk_sel0      | 时钟选择控制器0。可写，其中aclk_sel设置aclk为时钟源；其中aclk_divider_sel占用2位，控制aclk的阈值；其中apb0~2_clk_sel分别占用3位，分别控制apb0~2的阈值；其中spi3_clk_sel设置spi3为时钟源；其中timer0~2_clk_sel分别设置timer0~2为时钟源；其它为保留位。 |
| 9     | clk_sel1      | 时钟选择控制器1。可写，仅第一位有效，spi3_sample_clk_sel将spi3_sample设为时钟源。 |
| 10    | clk_en_cent   | 中心时钟使能。可写，每一位控制一个时钟使能，共用6个位控制cpu, sram0~1, apb0~2，其余位保留。其中apb0~2分别控制着若干外设。置1使能，置0不使能。 |
| 11    | clk_en_peri   | 外部时钟使能。可写，每一位控制一个外设的时钟全能。置1使能，置0不使能。 |
| 12    | soft_reset    | 软重置。可写，仅第一位有效。置1重置，置0不重置。             |
| 13    | peri-reset    | 外重置。可写，每一位控制一个外设。置1重置，置0不重置。       |
| 14    | clk_th0       | 时钟阈值控制器0。可写，控制阈值宽度为4的外设的阈值，控制的外设有5个：sram0~1, ai, dvp, rom |
| 15    | clk_th1       | 时钟阈值控制器1。可写，控制阈值宽度为8的外设的阈值，控制的外设有4个：spi0~3 |
| 16    | clk_th2       | 时钟阈值控制器2。可写，控制阈值宽度为8的外设的阈值，控制的外设有3个：timer0~2，剩余8位为保留位 |
| 17    | clk_th3       | 时钟阈值控制器3。可写，控制阈值宽度为16的外设的阈值，控制的外设有2个：i2s0~1_clk_threshold |
| 18    | clk_th4       | 时钟阈值控制器4。可写，控制2个阈值宽度为8的外设的阈值：i2s0~1_mclk_threshold，还控制1个阈值宽度为16的外设的阈值：i2s2_clk_threshold |
| 19    | clk_th5       | 时钟阈值控制器5。可写，控制阈值宽度为8的外设的阈值，控制的外设有4个：i2s2_mclk_threshold, i2c0~2_clk_threshold |
| 20    | clk_th6       | 时钟阈值控制器6。可写，控制阈值宽度为8的外设的阈值，控制的外设有2个：wdt0~1_clk_threshold, 剩余16位为保留位 |
| 21    | misc          | 杂项控制器。有1个1位的sip_dvp_data_enable，1为使能，0为不使能 |
| 22    | peri          | 外设控制器                                                   |
| 23    | spi_sleep     | SPI睡眠控制器                                                |
| 24    | reset_status  | reset源的状态。wdt0~1_reset_sts和soft_reset_sts代表其各自的reset状态，1为reset，0为非reset，reset_sts_clr如写入1则清空reset状态。其余为保留位。 |
| 25    | dma_sel0      | DMA握手控制器0。可写，控制dma_sel0~4共5个6位宽的channel，其余2位保留 |
| 26    | dma_sel1      | DMA握手控制器1。可写，控制dma_sel5这个6位宽的channel，其余26位保留 |
| 27    | power_sel     | IO电源模式选择控制器。可写，power_mode_sel0~7共8个1位的项控制8种电源模式，1为使能0为不使能，其余24位保留 |
| 28-31 | resv28-resv31 | 保留                                                         |


