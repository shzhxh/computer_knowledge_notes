#### 图形适配器

图形适配器(graphics adapter)也叫显卡(video RAM card)，一头连在总线上，一头连着显示器(display)。

显存(video RAM)和视频控制器(video controller)都是图形适配器的一部分。

显存映射在内存地址空间上，CPU可以像访问内存那样访问显存。

视频控制器是显卡上的芯片，它从显存中提取字节，并生成视频信号以驱动显示器。

显示器有两种：CRT显示器和平板显示器。

黑白CRT显示器用一束电子来水平扫描屏幕。彩色CRT显示器则是有红、绿、蓝三束电子。

平板显示器的工作原理与CRT显示器大不相同，但可以兼容CRT的模式，接收和CRT一样的同步信号和视频信号。

#### CGA视频控制器（6845）：（2个端口）

```
显示控制索引端口：0x3d4
	存放光标位置的寄存器编号是14和15
数据端口：0x3d5
显存范围：0xb8000~0xbc000,每个字符对应2个字节，第1个字节是ASCII码，第2个字节是显示属性（低4位是前景色，高4位是背景色，KRGBIRGB,K闪烁I亮度。
```

在屏幕底部换行的时候，屏幕必须要整体向上滚动一行。大多数视频控制器都包含了一个寄存器，这个寄存器指明从视频RAM的什么位置来取顶行的字节。在需要屏幕上滚的时候，驱动程序只需设置这个寄存器，然后把内容复制到新的屏幕底部即可。

驱动程序需要处理光标位置，硬件提供了寄存器来记录光标位置。